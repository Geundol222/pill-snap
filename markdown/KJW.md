# 💊 알약 인식 모델 개발 실험 일지

### 📌 실험 일지 1: 클래스 불균형 문제 해결 여정

| 단계 (Phase) | 상세 내용 (Details) |
| :--- | :--- |
| **1. 문제 정의**<br>(Problem & Goal) | **① 문제**<br>: EDA 결과, 데이터셋 내 최다/최소 클래스 간 샘플 수가 약 **73배** 차이 나는 극심한 **클래스 불균형** 상태를 확인했습니다.<br><br>**② 목표**<br>:  희귀 클래스의 탐지 성능(Recall, AP)을 개선하여, 전체 mAP 점수를 안정적으로 향상시키는 최적의 전처리 전략을 찾는 것을 목표로 합니다. |
| **2. 실험 ①**<br>(Simple Oversampling) | **① 가설**<br>: 소수 클래스가 포함된 이미지 자체를 복제하면, 모델의 학습 기회가 늘어나 성능이 향상될 것이다.<br><br>**② 방법**<br>: 30개 미만의 데이터를 가진 클래스를 소수 클래스로 정의하고, 해당 이미지를 복제하여 데이터 수를 최소 50개로 늘렸습니다.<br><br>**③ 결과**<br>: `mAP50-95` = **0.8837**. 베이스라인 대비 유의미한 성능 향상이 없었습니다.<br><br>**④ 실패 원인**<br>: 소수 클래스 이미지 내에 포함된 **다수 클래스 객체까지 함께 증강**되어, 불균형 해소 효과가 희석되었습니다. |
| **3. 실험 ②**<br>('Sticker' Technique) | **① 가설**<br>: 소수 클래스의 '객체'만 잘라내(스티커) 별도로 학습시키면, 다수 클래스에 영향을 주지 않고 집중 학습이 가능할 것이다.<br><br>**② 방법**<br>: 소수 클래스 객체를 Bbox 기준으로 잘라내 별도의 `_stickers` 데이터셋을 만들고, 기존 데이터와 함께 학습시켰습니다.<br><br>**③ 결과**<br>: `mAP50-95` ≈ **0.771**. 오히려 성능이 **크게 하락**했습니다.<br><br>**④ 실패 원인**<br>: **문맥(Context)이 제거된** 비현실적인 '스티커' 데이터가 모델 학습에 혼란을 주어, 실제 이미지에 대한 일반화 성능을 저하시켰습니다. |
| **4. 결론 및 향후 전략**<br>(Conclusion & Next Steps) | **교훈 (Lessons Learned):**<br>클래스 불균형을 해결하기 위해서는,<br> **(1) 다수 클래스에 미치는 영향을 최소화**하면서<br> **(2) 실제 데이터의 문맥을 유지**하는<br> 더 정교한 방법이 필요합니다.<br>|

---

### 📌 실험 일지 2: YOLOv12m 모델 성능 평가

| 단계 (Phase) | 상세 내용 (Details) |
| :--- | :--- |
| **1. 실험 목표**<br>(Goal) | **① 목표**<br>: 주어진 알약 이미지 데이터셋에 대해 최고 성능을 내는 모델을 선정하고 최적화하여, Kaggle 대회에서 가장 높은 점수를 획득하는 것을 목표로 합니다.<br><br>**② 전략**<br>: 최신 기술이 적용된 고성능 아키텍처인 **YOLOv12m** 모델을 채택하여, 그 성능과 일반화 능력을 평가합니다. |
| **2. 모델링 및 훈련**<br>(Modeling & Training) | **① 가설**<br>: 더 크고 발전된 `YOLOv12m` 모델 아키텍처는 뛰어난 특징 추출(Feature Extraction) 능력과 일반화 성능을 바탕으로, 처음 보는 테스트 데이터(unseen data)에 대해서도 높은 정확도를 보여줄 것이다.<br><br>**② 훈련 설정**<br>- `model`: `yolov12m.pt`<br>- `optimizer`: `auto` (AdamW)<br>- `imgsz`: `960`<br>- `epochs`: `10` |
| **3. 실험 결과**<br>(Results) | **① 훈련 중 검증 성능**<br>- `mAP50-95`: **0.588** (10 에포크 종료 시점)<br><br>**② 최종 제출 결과**<br>- `Kaggle Score`: **0.993 (최종 1위)** |
| **4. 분석 및 결론**<br>(Analysis & Conclusion) | **① 분석**<br>: 로컬 검증 데이터셋의 mAP는 평이했으나, 실제 평가용 데이터셋에서는 **압도적인 성능**을 기록했습니다. 이는 `YOLOv12m` 모델이 가진 **뛰어난 일반화 성능**을 입증하는 결과입니다. 모델이 훈련 데이터에 과적합되지 않고, 데이터셋의 핵심적인 패턴을 학습하여 처음 보는 데이터에 대해서도 **매우 강건한 예측 능력**을 보여주었습니다.<br><br>**② 최종 결론**<br>: 프로젝트 성공의 핵심 요인은 **`YOLOv12m`이라는 강력한 모델 아키텍처를 채택**한 것이었습니다. 모델 중심적 접근(Model-centric approach)이 최종 1위라는 결과를 이끌어냈으며, 모델의 근본적인 성능이 가장 중요한 변수임을 확인했습니다. |